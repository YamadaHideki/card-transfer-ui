{"version":3,"sources":["components/application-page/application-page.module.scss","components/card-money-input/card-money-input.module.scss","components/card-number-input/card-number-input.module.scss","pages/card-info-page/modules/card-info-page-errors/card-info-page-errors.module.scss","pages/card-info-page/card-info-page.module.scss","modules/credit-card/credit-card-enum.ts","components/application-page/application-page.tsx","components/with-base-field-adapter/with-base-field-adapter.tsx","components/card-money-input/card-money-input.tsx","constants.ts","utils.ts","components/card-money-input/card-money-input-utils.ts","components/card-money-input/card-money-input-redux.tsx","components/card-number-input/card-number-input-utils.ts","components/card-number-input/card-number-input.tsx","components/card-number-input/card-number-input-constants.ts","components/card-number-input/card-number-input-redux.tsx","components/card-expires-input/card-expires-input-constants.ts","components/card-expires-input/card-expires-input-utils.ts","components/card-expires-input/card-expires-input.tsx","components/card-expires-input/card-expires-input-redux.tsx","components/card-cvc-input/card-cvc-input-utils.ts","components/card-cvc-input/card-cvc-input-constants.ts","components/card-cvc-input/card-cvc-input.tsx","components/card-cvc-input/card-cvc-input-redux.tsx","pages/card-info-page/card-info-page-enum.ts","modules/credit-card/credit-card.tsx","assets/visa_PNG4 2.png","assets/mc_downloads_symbol_350x200 2.png","assets/mir-logo-h229px 2.png","modules/simple-modal/simple-modal-actions.ts","modules/simple-modal/simple-modal-constants.ts","modules/simple-modal/simple-modal-selectors.ts","modules/simple-modal/simple-modal.tsx","modules/simple-modal/simple-modal-reducer.ts","pages/card-info-page/card-info-page-constants.ts","pages/card-info-page/modules/card-info-page-errors/card-info-page-errors-selectors.ts","pages/card-info-page/modules/card-info-page-errors/card-info-page-errors.tsx","pages/card-info-page/card-info-page-selectors.ts","actions.ts","pages/card-info-page/card-info-page.tsx","services.ts","pages/card-info-page/card-info-page-utils.ts","pages/card-info-page/card-info-page-actions.ts","pages/card-info-page/card-info-page-form.ts","pages/card-info-page/card-info-page-reducer.ts","reducers.ts","store.ts","index.tsx","modules/credit-card/credit-card.module.scss","components/with-base-field-adapter/with-base-field-adapter.module.scss","modules/simple-modal/simple-modal.module.scss"],"names":["module","exports","ECreditCardForm","ApplicationPage","React","className","children","cn","styles","withBaseFieldAdapter","AdapterComponent","input","label","error","meta","name","placeholder","required","InputLabel","Boolean","CardMoneyInput","TextField","RUR_SIGN","formatByMoneyPattern","value","rerurnDecimals","toFixed","split","wholePart","fractionalPart","formatedWholePart","Array","from","toString","reverse","reduce","acc","num","i","push","join","moneyFormatter","cleanValue","Number","replace","formattedValue","trim","CardMoneyInputRedux","Field","component","format","cardNumberFormatter","el","CardNumberInput","Input","CardNumberInputRedux","CARD_EXPIRES_DELIMETER","CARD_EXPIRES_INPUT_PLACEHOLDER","CARD_EXPIRES_DEFAULT_LABEL","cardExpiresFormatter","length","slice","CardExpiresInput","CardExpiresInputRedux","cardCvcFormatter","CardCvcInput","CardCvcInputRedux","ECardInfoFields","CreditCard","sectionName","showOnlyNumber","FormSection","alt","src","CardNumber","CardExpires","CardCvc","namespaceAction","actionType","OPEN_SIMPLE_MODAL","openSimpleModalAction","title","message","withError","payload","type","CLOSE_SIMPLE_MODAL","useCloseSimpleModal","dispatch","useDispatch","useCallback","SIMPLE_MODAL_STORE_NAME","getSimpleModalState","state","getSimpleModalIsOpen","createSelector","simpleModalState","isOpen","getSimpleModalWithError","getSimpleModalData","SimpleModal","useSelector","closeModal","errorClassName","Dialog","open","body","Button","button","onClick","variant","INIT_STATE","CARD_INFO_PAGE_STORE_KEY","CARD_INFO_PAGE_FORM","getCreditInfoFormErrors","getFormSyncErrors","getFormSubmitErrors","to","money","Object","keys","values","filter","err","includes","CardInfoPageErrors","errors","map","formName","getCardInfoPageFormValues","getFormValues","getCommissionPercent","pageState","commissionPercent","getInputedMoney","cardInfoPageFormValues","Money","getComputedCommission","inputedMoney","CardInfoPage","props","commission","From","To","submit","TRANSFER_URL","process","CONFIRM_OPERATION_URL","validateCardNumber","cardNumber","person","validateCardInfoForm","fromErrors","toErrors","senderName","cardNumberFromError","assign","cardExpiresFromErrors","cardExpires","month","year","dateNow","Date","currentMonth","getMonth","currentYearLastTwoNumbers","getFullYear","monthIsExpires","yearIsExpires","yearIsEquals","validateCardExpires","cardCvc","cvcCodeFromErrors","cardNumberToError","moneyErrors","cleanMoney","RegExp","cleanMoneyCount","parseFloat","validateMoney","prepareFormValuesToSendTransfer","cardFromNumber","cardToNumber","cardFromCVV","cardFromValidTill","amount","currency","onSubmitHandler","a","SubmissionError","dataForTransfer","axios","post","data","transferResponse","operationId","ref","dataForConfirmation","code","reset","response","mapDispatchToProps","checkFieldIsTouched","fieldPath","_","getState","formMeta","getFormMeta","fieldMeta","get","fieldIsTouched","touched","CardInfoPageForm","compose","connect","reduxForm","form","onSubmit","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6803cd74.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page-container\":\"application-page_page-container__Tu8bY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"money-input\":\"card-money-input_money-input__38IwW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full-width\":\"card-number-input_full-width__1f8hs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errors\":\"card-info-page-errors_errors__2vBL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"card-info-page_container__2BIrn\",\"header\":\"card-info-page_header__62ZfF\",\"sub-header\":\"card-info-page_sub-header__1DI83\",\"cards\":\"card-info-page_cards__1wLhK\",\"card\":\"card-info-page_card__3dHmv\",\"card-title\":\"card-info-page_card-title__2tBhu\",\"arrow-right\":\"card-info-page_arrow-right__29zh8\",\"sum\":\"card-info-page_sum__3QdB5\",\"sum-title\":\"card-info-page_sum-title__7WIFN\",\"commission\":\"card-info-page_commission__1zk6t\",\"button-section\":\"card-info-page_button-section__3TGYK\",\"send-button\":\"card-info-page_send-button__3YITv\"};","export enum ECreditCardForm {\r\n    CardNumber = 'card-number',\r\n    CardExpires = 'card-expires',\r\n    CardCvc = 'card-cvc',\r\n};","import * as React from 'react';\r\nimport cn from 'classnames';\r\nimport styles from './application-page.module.scss';\r\n\r\ntype TApplicationPageProps = {\r\n    className?: string; \r\n    children: React.ReactNode;\r\n};\r\n\r\nexport const ApplicationPage = React.memo<TApplicationPageProps>(({ className = '', children }) => (\r\n    <div className={cn(styles['page-container'], className)}>{children}</div>\r\n));","import * as React from 'react';\r\nimport { WrappedFieldInputProps, WrappedFieldMetaProps } from 'redux-form';\r\nimport cn from 'classnames';\r\nimport { InputLabel } from '@material-ui/core';\r\nimport styles from './with-base-field-adapter.module.scss';\r\n\r\nexport type TAdapterComponentProps = {\r\n    className?: string;\r\n    error?: boolean;\r\n    input: WrappedFieldInputProps,\r\n    name?: string;\r\n    placeholder?: string;\r\n    required?: boolean;\r\n};\r\n\r\ntype TWithBaseFieldAdapterProps = TAdapterComponentProps & {\r\n    label?: string;\r\n    meta: WrappedFieldMetaProps,\r\n};\r\n\r\nexport const withBaseFieldAdapter = (AdapterComponent: React.ComponentType<TAdapterComponentProps>) => (\r\n    React.memo<TWithBaseFieldAdapterProps>(({\r\n        input,\r\n        label,\r\n        meta: { error },\r\n        name,\r\n        placeholder,\r\n        required,\r\n    }) => (\r\n        <div className={styles['field']}>\r\n            {label && (\r\n                <InputLabel className={cn(styles['label'], {\r\n                    [styles['error']]: error,\r\n                })}>\r\n                    {label}\r\n                </InputLabel>\r\n            )}\r\n            <AdapterComponent\r\n                className={cn(styles['component'], { [styles['error']]: error })}\r\n                error={Boolean(error)}\r\n                input={input}\r\n                name={name}\r\n                placeholder={placeholder}\r\n                required={required}\r\n            />\r\n        </div>\r\n    ))\r\n);","import * as React from 'react';\r\nimport cn from 'classnames';\r\nimport { TextField } from '@material-ui/core';\r\nimport { withBaseFieldAdapter } from '../with-base-field-adapter';\r\nimport type { TAdapterComponentProps } from '../with-base-field-adapter';\r\nimport styles from './card-money-input.module.scss';\r\n\r\nconst CardMoneyInputComponent = React.memo<TAdapterComponentProps>(({\r\n    className,\r\n    error,\r\n    input,\r\n    placeholder,\r\n    required,\r\n}) => (\r\n    <TextField\r\n        className={cn(styles['money-input'], className)}\r\n        error={error}\r\n        placeholder={placeholder}\r\n        required={required}\r\n        {...input}\r\n    />\r\n));\r\n\r\n\r\nexport const CardMoneyInput = withBaseFieldAdapter(CardMoneyInputComponent);","export const RUR_SIGN = '₽';\r\nexport const RUR_CODE = 'RUR';\r\nexport const DEFAULT_MONEY_DECIMAL_DELIMETER = '.';\r\nexport const DEFAULT_SIGHNS_COUNT_AFTER_DELIMETER = 2;\r\nexport const CARD_NUMBER_LENGTH = 16;\r\nexport const FIRST_MONTH_NUMBER = 1;\r\nexport const LAST_MONTH_NUMBER = 12;","import {\r\n    DEFAULT_MONEY_DECIMAL_DELIMETER,\r\n    DEFAULT_SIGHNS_COUNT_AFTER_DELIMETER,\r\n} from './constants';\r\n\r\nexport const formatByMoneyPattern = (value: number, rerurnDecimals?: boolean): string => {\r\n    const [wholePart, fractionalPart] = value\r\n        .toFixed(DEFAULT_SIGHNS_COUNT_AFTER_DELIMETER)\r\n        .split(DEFAULT_MONEY_DECIMAL_DELIMETER);\r\n    const formatedWholePart = Array\r\n        .from(wholePart.toString())\r\n        .reverse()\r\n        .reduce((acc, num, i) => {\r\n            if (i % 3 === 0) {\r\n                acc.push(' ', num);\r\n            } else {\r\n                acc.push(num)\r\n            }\r\n\r\n            return acc;\r\n        }, [] as string[])\r\n        .reverse()\r\n        .join('')\r\n\r\n    return rerurnDecimals\r\n        ? [formatedWholePart, fractionalPart].join(DEFAULT_MONEY_DECIMAL_DELIMETER)\r\n        : formatedWholePart\r\n};\r\n","import { RUR_SIGN } from '../../constants';\r\nimport { formatByMoneyPattern } from '../../utils';\r\n\r\nexport const moneyFormatter = (value: string = ''): string => {\r\n    const cleanValue = Number(value.replace(/\\D/g, ''));\r\n    const formattedValue = formatByMoneyPattern(cleanValue);\r\n\r\n    return `${RUR_SIGN} ${formattedValue.trim()}`;\r\n};","import * as React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { CardMoneyInput } from './card-money-input';\r\nimport { moneyFormatter } from './card-money-input-utils';\r\n\r\ntype TCardMoneyInputReduxProps = {\r\n    label?: string;\r\n    name: string;\r\n    required?: boolean;\r\n};\r\n\r\nexport const CardMoneyInputRedux = React.memo<TCardMoneyInputReduxProps>(({\r\n    label,\r\n    name,\r\n    required,\r\n}) => (\r\n    <Field\r\n        component={CardMoneyInput}\r\n        format={moneyFormatter}\r\n        label={label}\r\n        name={name}\r\n        required={required}\r\n    />\r\n));","export const cardNumberFormatter = (value = '') => (\r\n    Array.from(value.replace(/\\D/g, '')).reduce((acc, el, i) => {\r\n        if (i >= 4 * 4) {\r\n            return acc;\r\n        }\r\n        if ((i % 4) === 0) {\r\n            return `${acc} ${el}`;\r\n        }\r\n    \r\n        return `${acc}${el}`;\r\n    }, '')\r\n);","import * as React from 'react';\r\nimport cn from 'classnames';\r\nimport { Input } from '@material-ui/core';\r\nimport { withBaseFieldAdapter } from '../with-base-field-adapter';\r\nimport type { TAdapterComponentProps } from '../with-base-field-adapter';\r\nimport { CARD_NUMBER_INPUT_PLACEHOLDER } from './card-number-input-constants';\r\nimport styles from './card-number-input.module.scss';\r\n\r\nconst CardNumberInputComponent = React.memo<TAdapterComponentProps>(({\r\n    className,\r\n    error,\r\n    input,\r\n    placeholder,\r\n    required,\r\n}) => (\r\n    <Input\r\n        className={cn(styles['full-width'], className)}\r\n        error={error}\r\n        placeholder={placeholder ? placeholder : CARD_NUMBER_INPUT_PLACEHOLDER}\r\n        required={required}\r\n        {...input}\r\n    />\r\n));\r\n\r\nexport const CardNumberInput = withBaseFieldAdapter(CardNumberInputComponent);","export const CARD_NUMBER_INPUT_PLACEHOLDER = '0000 0000 0000 0000';\r\nexport const CARD_NUMBER_DEFAULT_LABEL = 'Номер карты';","import * as React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { cardNumberFormatter } from './card-number-input-utils';\r\nimport { CARD_NUMBER_DEFAULT_LABEL } from './card-number-input-constants';\r\nimport { CardNumberInput } from './card-number-input';\r\n\r\ntype TCardNumberInputReduxProps = {\r\n    label?: string;\r\n    name: string;\r\n    required?: boolean;\r\n};\r\n\r\nexport const CardNumberInputRedux = React.memo<TCardNumberInputReduxProps>(({\r\n    label,\r\n    name,\r\n    required,\r\n}) => (\r\n    <Field\r\n        component={CardNumberInput}\r\n        format={cardNumberFormatter}\r\n        label={label || CARD_NUMBER_DEFAULT_LABEL}\r\n        name={name}\r\n        required={required}\r\n    />\r\n));","export const CARD_EXPIRES_DELIMETER = '/';\r\nexport const CARD_EXPIRES_INPUT_PLACEHOLDER = `00 ${CARD_EXPIRES_DELIMETER} 00`;\r\nexport const CARD_EXPIRES_DEFAULT_LABEL = `ММ ${CARD_EXPIRES_DELIMETER} ГГ`;\r\nexport const CARD_EXPIRES_MONTH_START = 0;\r\nexport const CARD_EXPIRES_MONTH_END = 2;\r\nexport const CARD_EXPIRES_YEARS_START = 2;\r\nexport const CARD_EXPIRES_YEARS_END = 4;\r\nexport const CARD_EXPIRES_MONTH_LENGTH = 2;\r\nexport const CARD_EXPIRES_YEARS_LENGTH = 2;","import {\r\n    CARD_EXPIRES_DELIMETER,\r\n    CARD_EXPIRES_MONTH_START,\r\n    CARD_EXPIRES_MONTH_END,\r\n    CARD_EXPIRES_YEARS_START,\r\n    CARD_EXPIRES_YEARS_END,\r\n} from './card-expires-input-constants';\r\n\r\nexport const cardExpiresFormatter = (value = '') => {\r\n    const cleanValue = value?.replace(/\\D/g, '');\r\n    if (cleanValue.length <= CARD_EXPIRES_MONTH_END) {\r\n        return cleanValue;\r\n    }\r\n    return [\r\n        cleanValue.slice(CARD_EXPIRES_MONTH_START, CARD_EXPIRES_MONTH_END),\r\n        cleanValue.slice(CARD_EXPIRES_YEARS_START, CARD_EXPIRES_YEARS_END)\r\n    ].join(CARD_EXPIRES_DELIMETER);\r\n};","import * as React from 'react';\r\nimport { Input } from '@material-ui/core';\r\nimport { withBaseFieldAdapter } from '../with-base-field-adapter';\r\nimport type { TAdapterComponentProps } from '../with-base-field-adapter';\r\nimport { CARD_EXPIRES_INPUT_PLACEHOLDER } from './card-expires-input-constants';\r\n\r\nconst CardExpiresInputComponent = React.memo<TAdapterComponentProps>(({\r\n    className,\r\n    error,\r\n    input,\r\n    placeholder,\r\n    required,\r\n}) => (\r\n    <Input\r\n        className={className}\r\n        error={error}\r\n        placeholder={placeholder ? placeholder : CARD_EXPIRES_INPUT_PLACEHOLDER}\r\n        required={required}\r\n        {...input}\r\n    />\r\n));\r\n\r\nexport const CardExpiresInput = withBaseFieldAdapter(CardExpiresInputComponent);","import * as React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { cardExpiresFormatter } from './card-expires-input-utils';\r\nimport { CARD_EXPIRES_DEFAULT_LABEL } from './card-expires-input-constants';\r\nimport { CardExpiresInput } from './card-expires-input';\r\n\r\ntype TCardExpiresInputReduxProps = {\r\n    label?: string;\r\n    name: string;\r\n    required?: boolean;\r\n};\r\n\r\nexport const CardExpiresInputRedux = React.memo<TCardExpiresInputReduxProps>(({\r\n    label,\r\n    name,\r\n    required,\r\n}) => (\r\n    <Field\r\n        component={CardExpiresInput}\r\n        format={cardExpiresFormatter}\r\n        label={label || CARD_EXPIRES_DEFAULT_LABEL}\r\n        name={name}\r\n        required={required}\r\n    />\r\n));","import {\r\n    CARD_CVC_MAX_LENGTH,\r\n} from './card-cvc-input-constants';\r\n\r\nexport const cardCvcFormatter = (value = '') => {\r\n    const cleanValue = value?.replace(/\\D/g, '');\r\n\r\n    return Array.from(cleanValue).slice(0, CARD_CVC_MAX_LENGTH).join('');\r\n};","export const CARD_CVC_MAX_LENGTH = 3;\r\nexport const CARD_CVC_DEFAULT_LABEL = 'CVC';\r\nexport const CARD_CVC_INPUT_PLACEHOLDER = '000';","import * as React from 'react';\r\nimport { Input } from '@material-ui/core';\r\nimport { withBaseFieldAdapter } from '../with-base-field-adapter';\r\nimport type { TAdapterComponentProps } from '../with-base-field-adapter';\r\nimport { CARD_CVC_INPUT_PLACEHOLDER } from './card-cvc-input-constants';\r\n\r\nconst CarCvcInputComponent = React.memo<TAdapterComponentProps>(({\r\n    className,\r\n    error,\r\n    input,\r\n    placeholder,\r\n    required,\r\n}) => (\r\n    <Input\r\n        className={className}\r\n        error={error}\r\n        placeholder={placeholder ? placeholder : CARD_CVC_INPUT_PLACEHOLDER}\r\n        required={required}\r\n        {...input}\r\n    />\r\n));\r\n\r\nexport const CardCvcInput = withBaseFieldAdapter(CarCvcInputComponent);","import * as React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { CARD_CVC_DEFAULT_LABEL } from './card-cvc-input-constants';\r\nimport { cardCvcFormatter } from './card-cvc-input-utils';\r\nimport { CardCvcInput } from './card-cvc-input';\r\n\r\ntype TCardCvcInputReduxProps = {\r\n    label?: string;\r\n    name: string;\r\n    required?: boolean;\r\n};\r\n\r\nexport const CardCvcInputRedux = React.memo<TCardCvcInputReduxProps>(({\r\n    label,\r\n    name,\r\n    required,\r\n}) => (\r\n    <Field\r\n        component={CardCvcInput}\r\n        format={cardCvcFormatter}\r\n        label={label || CARD_CVC_DEFAULT_LABEL}\r\n        name={name}\r\n        required={required}\r\n    />\r\n));","export enum ECardInfoFields {\r\n    From = 'from',\r\n    To = 'to',\r\n    Money = 'money',\r\n}","import * as React from 'react';\r\nimport { FormSection } from 'redux-form';\r\nimport cn from 'classnames';\r\nimport { CardNumberInput } from '../../components/card-number-input';\r\nimport { CardExpiresInput } from '../../components/card-expires-input';\r\nimport { CardCvcInput } from '../../components/card-cvc-input';\r\nimport MasterCardLogo from '../../assets/mc_downloads_symbol_350x200 2.png';\r\nimport MirCardLogo from '../../assets/mir-logo-h229px 2.png';\r\nimport VisaCardLogo from '../../assets/visa_PNG4 2.png';\r\nimport { ECreditCardForm } from './credit-card-enum';\r\nimport styles from './credit-card.module.scss';\r\n\r\ntype TCreditCardProps = {\r\n    className?: string;\r\n    sectionName: string;\r\n    showOnlyNumber?: boolean;\r\n};\r\n\r\nexport const CreditCard = React.memo<TCreditCardProps>(({\r\n    className,\r\n    sectionName,\r\n    showOnlyNumber,\r\n}) => {\r\n    return (\r\n        <div className={cn(styles['card'], className)}>\r\n            <FormSection name={sectionName}>\r\n                <div className={styles['assets']}>\r\n                    <img alt=\"Visa Card Logo\" className={styles['card-logo']} src={VisaCardLogo} />\r\n                    <img alt=\"Master Card Logo\" className={styles['card-logo']} src={MasterCardLogo} />\r\n                    <img alt=\"Mir Card Logo\" className={styles['card-logo']} src={MirCardLogo} />\r\n                </div>\r\n                <div className={styles['card-number']}>\r\n                    <CardNumberInput name={ECreditCardForm.CardNumber} required />\r\n                </div>\r\n                {!showOnlyNumber && (\r\n                    <div className={styles['card-bottom']}>\r\n                        <CardExpiresInput name={ECreditCardForm.CardExpires} required />\r\n                        <CardCvcInput name={ECreditCardForm.CardCvc} required />\r\n                    </div>\r\n                )}\r\n            </FormSection>\r\n        </div>\r\n    );\r\n});","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAUCAYAAAAZb7T/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUlSURBVHgB7VZdbBVFFP5mdgst0mJsg9QCvS1/CqYQGkUlIUgESUCUSCCRB0ENaAggYAwUSK5KVcQgIAjERIwIAUxIFPBBjBoETFATiFWiQHspECBXbaWVXG5353hmZne7t+Xy6BPT3t05M+fnO9+cmVngdvt/miiumF4qVa9aLXhwg2HHPH0U/Z65vOV8V6PiigWlWdmDbVzWYTtCEy6uO4PKFQ9DOsXWWPyF5jd+zjGsrH8UjjMGUhQamcRpCO8bnK1Ld0M2amsCGTnUCowrI08gNbfVSIVZ94YnZRkJMckRcgrnUQYhdT7suwMFA14a13Zh6/dxf1mnoJ7n5xMUBOsy9LHeoKUZ6eM4SIEgQS69zKoWdOXrz8AVm7hXykg1WDbXPx2nRxs/SnIAD906HRnab3Sh9RRQRFNZOKSnZTr9WXvL1Z27W698MudaTxoAJVZbZYLQ/n1/VlcSJGGqmbd6R73z6487WbfW2sGOK5wyQtVrK+HQLh4qBVm/oV4A6lhX/xD+qlxd8xsVTrs5yqmPM9dA9SX3vLCYpTIDTIrxcZWiikUzBamKcDUY4DYTx8FIC8MA4UXwTiGxPCGgVmrmA6B/8m8j9y/yivCKOhOh6IccDIM3j+b50YbhkGmdgMCwm4O2abLG8+yInjAGCncDSY6aVGZW+HN1zQsDj65kq0r2Qle9wiTJpr4wPDeg+e0WJOoe1Hl2Bld1aFz9YSzYu93CS7UwBvhvft9lZTwWqQA3g62+sD1TAmW9+126T0uF/V5M8OxkWzq6omkPvkt6NhkaEdkQ2dIQstjWsB1neQUqV1UhX7v3PfavnoqVz7LQJ/+Xo3r7wLygfXjHbE0FSTh4QL8dVy6I1Ts5Ui81eLMu0/N99LjU2Mg/YmO5X/OzVYSBQVVwejZiUP0OVK2p7BZYmc12ZyCl4Pl6M2Yj4AU0PC/o9ss7TzPDzVHGJEw9EdGMMBkStC+T2pAK/I2Mb0LfCZhOJVsJ3kzutUVsW4M5kPIYBq99qEtoy6yOQbQdZxfxFsNPkZ0Uj+cFHTg+HGN1ZEn/+ZMZUCJkTSj1aajJe3Kc6AT1D5reORG5aXrzMGOo4d6+wG9YLhUM7HP0X1JkhqvXTeHxRCdAb0+QwK+RnbLk5QXNII6GQHhv1fBraSxo6vqlLQcjXV52Ea1KGCTWUskUmpKz2OlYLcUY7wun72QLUsyLjf/GO/p+DNkwNaDdxhX0CMZ/6+YF7UEcCp3wltOsTIwBWxMpDnuVN5saGzrmvyP5fOJc8jgHXh/4sEAk+RjyVjX3p8VKaDgzdYBv1wPMyLzO/UV9cPVchZvPf/uVHemS8jmX2aDc3F7mJBH6xOi4o0PsvR7oFf57vZaka6pGnyjcMUy7lcsn8H35nHLpI1BBGvJGC/yi4exgiTlVw2NNOCcZeV3EZnDMByCDd+zMVt6EvKCDto/VFlPskBdC7E6nP2hH5E7UBAybpG64Wcu0EE/yc7b05WxjTz0DGBQHsRGNyy+geu00Lg87puQvfA0ctvEC4AJPc6cyODZH3Bq0Tz/yFRwF0U/h5V4IPDZFJ0M2RgsaNzVbdKrGrpAILqIYW/b7430M7HgFqH+WhXI7ZYipwx9LD+bgGLpZzy4L5sfcErTMikOqiGswrCmJC+1XtzXEdUjSl5JEA8xlo85EtspZCEfN8IlqOZj+JOhFJM4x5gY+j/cjtfokfxsCg9b0ZsDrQwZQ2PZVNyCu2gWPl8KWVQdut9stf/sP/oI4WT+MWoMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAATCAYAAACDW21BAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJmSURBVHgBvVRLaxNRFP7unemk6TQ0tLQ0RGqxUMVXClJEF27cCPobfEBqcKNLEVGKGzcqBXeCFurKnSi4c+Nauomg1ooJTRhTbdBMH5NM5h7vhCQ15jHXhX5wmXvPnO98556Zc4D/DNbJ+AH7I6PYnBPArDzOyKXLlZPubzVgaRi5tO9Hi9FoWZgXieM4I3aUQIaMmGVgy9WK+3QwVUgHCn5H/IJ8PCBgGN2xYN7HGo/iNjEM9fC7WxH2vaFkqdhRsIDYHQ5+CwEYSNgIn9pB5eAIKKT19JUC79xy9XTkSmHdP/PGi2+Ip1TE+qe2MTBTAiu56Pv0I8gdslKHNUN/0jjXBPOITchMbgSRmSFgzu6K8A0HvOgE0cAYzu48jp9vChrgZ2Qme4OIoQkHLEQtNj1rQwmMUk1BBjqnwgnt226zcbsC5olgMtjJzcXR8ZoggZ1QYICFvXajf+GyiqDkC30Px1+A69QlEEEFQmiDdUGWUSKUO+dHfWp5G6gU6yUVr1UIrhVqF5N9GNSLNTBYRnI9XU+NXkEBzqrZZvPGB6ACEngm24NqgmOw3sj9iyCS91OHs7Ir4JfSi5lQQF4T4pG/aRbfQ/WyHL6ZIObW8hC8kg7SGdxDwwrlJI8xuuTCK9I8eMsstTA+2QftpT+OeoXQIp5t3nQtMdY/jd5ia0LQVTNpPW9YWn6vGL5mRpBPyC885w/dP+nSVpRVeFi1vWnj+sYBmfs1GfR9B6UiERbKzlbid7F6jO74gsloBO4xeeOwHA4fR5H7LAltXW4vTY3pFeeI4AjrTKwaWWuFzUNtGvxr/AKtXdWC+cPd/wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAPCAYAAACm25zCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM/SURBVHgBtVZdSFRREJ5z7v4pGVZIUEFZvmtQkRrpQ+Ci688KioKpQU8VRNJjmdVbZAgVoVhsSxYY5s+ufyUoQQ9BoUSvklaWP1Abln/3njPNarveXXdlr+YH594z35kzZ+aemdll+d5KBD0QJBF9kmvnevKejuuXCjorUtDEmxEhkwGYggsMxjx57uTs+0VpCfu3D+v3LM78cb4809YRkPO7qy4BYi1NEwOcXBK+7uKWHeCZ8ABjDp0vwKQA0CSw5SGWB2hCJfkdqKJRvZD62K/KIRwMOGOQq6DiCl+SnPWT8ayQIAzA2Xv6BAVxRx9E2NktEBvMNNLJT5fl3shNP8GjaTLGMovaq4MHOjwVqcQdhE1ACFazrsLcnucU6AcwACbwirV+ODdqIJQ+Zs0qTwUJzrNhE1hOS7qUdZVKmQDNVEyHT4ARMK2Gr7sucPVgxFLYBFDhN2JSdO4eBYstnWaxphllJMuIlOufaCSvaDB7SWuJ8nsb7GSSZQSdAvhKdbIPYoS9t+wACCjX7R+l/YeibsjZ9YWeFdA5dQsRyxnKw5QhVqoJv09kgPm9pxdbERFm1gRCpJtqgXIZE0jcOR8Xd4xL3Kd3gh5PyNA1iBEmtFxdtS/bxbz4bIo3XwzXO15nP5B0NEln9/LKywzf17OPAjsjdh/qwK8p1rx/Yo4CkBLo0fQFBhAhZiCnJiigzP8Fl2XG71LZF0bStSXZEkmhGgyAXJkxCeV6xBrhCJ068Sy5nxUQNIGtYADWXXG1FET8yqH4sdvhHoT/BApikjPM7XC6xiLeyKLZ0mbR1Ac0VegG9upuY7o33z3o8FadhBhBF5EWmHNgt8EgpCb7uJlNhpDIl8juyKz669mQs8PnpyIG0m9/+CPfW/WGdoQ4LCUOUDQInkrYAMa68txuMAj153yj/p9BNERvv1L0hFOM8xewQVDnqafrMVBdxhD9lx1trjBm9ttuaxdsAFQb4xLjH8EWImogXYXNU/T53q4y8tX7I00qGIcPFKjwFjTNwRbCpKhLyaGUzRdcVLkdYCFxDa/xBuJd4caGzneMFLWXhdjTlO3TXkdoEFaztQ7UhYaArLDo++MTE3wQA/4CfnMvj8rNBHsAAAAASUVORK5CYII=\"","import { useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nconst namespaceAction = (actionType: string): string => `@simple-modal/${actionType}`;\r\n\r\nexport const OPEN_SIMPLE_MODAL = namespaceAction('open-simple-modal')\r\nexport const openSimpleModalAction = (title: string, message: string, withError?: boolean) => ({\r\n    payload: {\r\n        message,\r\n        title,\r\n        withError,\r\n    },\r\n    type: OPEN_SIMPLE_MODAL\r\n});\r\n\r\nexport const CLOSE_SIMPLE_MODAL = namespaceAction('close-simple-modal')\r\nconst closeSimpleModalAction = () => ({\r\n    type: CLOSE_SIMPLE_MODAL\r\n});\r\n\r\nexport const useCloseSimpleModal = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    return useCallback(\r\n        () => dispatch(closeSimpleModalAction()),\r\n        [dispatch]\r\n    );\r\n}","export const SIMPLE_MODAL_STORE_NAME = 'simple-modal';\r\nexport const DEFAULT_OK_TITLE = 'Поздравляем!';\r\nexport const DEFAULT_OK_MESSAGE = 'Деньги успешно переведены!';\r\nexport const DEFAULT_ERROR_TITLE = 'Произошла ошибка!';\r\nexport const DEFAULT_ERROR_MESSAGE = 'Попробуйте осуществить перевод ещё раз';","import { createSelector } from 'reselect';\r\nimport { SIMPLE_MODAL_STORE_NAME } from './simple-modal-constants';\r\n\r\nconst getSimpleModalState = (state) => state[SIMPLE_MODAL_STORE_NAME];\r\n\r\nexport const getSimpleModalIsOpen = createSelector(\r\n    getSimpleModalState,\r\n    (simpleModalState): boolean => simpleModalState.isOpen,\r\n);\r\n\r\nexport const getSimpleModalWithError = createSelector(\r\n    getSimpleModalState,\r\n    (simpleModalState): boolean => simpleModalState.withError,\r\n);\r\n\r\nexport const getSimpleModalData = createSelector(\r\n    getSimpleModalState,\r\n    (simpleModalState) => ({\r\n        title: simpleModalState.title,\r\n        message: simpleModalState.message,\r\n    })\r\n);\r\n","import * as React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport cn from 'classnames';\r\nimport { Button, Dialog } from '@material-ui/core';\r\nimport { useCloseSimpleModal } from './simple-modal-actions';\r\nimport { getSimpleModalData, getSimpleModalIsOpen, getSimpleModalWithError } from './simple-modal-selectors';\r\nimport styles from './simple-modal.module.scss'\r\n\r\nexport const SimpleModal = React.memo(() => {\r\n    const { message, title } = useSelector(getSimpleModalData);\r\n    const isOpen = useSelector(getSimpleModalIsOpen);\r\n    const withError = useSelector(getSimpleModalWithError);\r\n    const closeModal = useCloseSimpleModal();\r\n    const errorClassName = { [styles.error]: withError };\r\n\r\n    return (\r\n        <Dialog open={isOpen}>\r\n            <div className={styles.body}>\r\n                <div>\r\n                    <h3 className={cn(styles.title, errorClassName)}>\r\n                        {title}\r\n                    </h3>\r\n                    <div className={styles.message}>\r\n                        {message}\r\n                    </div>\r\n                </div>\r\n                <Button\r\n                    className={cn(styles.button, errorClassName)}\r\n                    onClick={closeModal}\r\n                    variant=\"contained\"\r\n                >\r\n                    Ок\r\n                </Button>\r\n            </div>\r\n        </Dialog>\r\n    );\r\n});","import {\r\n    CLOSE_SIMPLE_MODAL,\r\n    OPEN_SIMPLE_MODAL,\r\n} from './simple-modal-actions';\r\n\r\nconst INIT_STATE = {\r\n    isOpen: false,\r\n    message: '',\r\n    title: '',\r\n    withError: false,\r\n};\r\n\r\nexport const simpleModalReducer = (state = INIT_STATE, { payload, type }) => {\r\n    switch(type) {\r\n        case CLOSE_SIMPLE_MODAL: {\r\n            return INIT_STATE;\r\n        }\r\n        case OPEN_SIMPLE_MODAL: {\r\n            return {\r\n                ...payload,\r\n                isOpen: true,\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}","export const CARD_INFO_PAGE_STORE_KEY = 'card-info-page';\r\nexport const CARD_INFO_PAGE_FORM = 'card-info-page-form';\r\nexport const COMMISSION_PERCENT = 1;","import { createSelector } from 'reselect';\r\nimport { getFormSyncErrors, getFormSubmitErrors } from 'redux-form';\r\nimport { CARD_INFO_PAGE_FORM } from '../../card-info-page-constants';\r\n\r\nexport const getCreditInfoFormErrors = createSelector(\r\n    getFormSyncErrors(CARD_INFO_PAGE_FORM),\r\n    getFormSubmitErrors(CARD_INFO_PAGE_FORM),\r\n    (\r\n        { from: fromSync, to: toSync, money: moneySync }: any,\r\n        { from: fromSubmit, to: toSubmit, money: moneySubmit }: any,\r\n    ): string[] => (\r\n        [fromSync, toSync, moneySync, fromSubmit, toSubmit, moneySubmit].reduce((acc, el) => {\r\n            if (!el) {\r\n                return acc;\r\n            } else if (typeof el === 'string') {\r\n                acc.push(el);\r\n            } else if (Object.keys(el).length > 0) {\r\n                return [...acc, ...Object.values(el)];\r\n            }\r\n\r\n            return acc;\r\n        }, []).filter(Boolean).reduce((acc, err) => {\r\n            if (!acc.includes(err)) {\r\n                acc.push(err);\r\n            }\r\n            return acc;\r\n        }, [])\r\n    ),\r\n);","import * as React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getCreditInfoFormErrors } from './card-info-page-errors-selectors';\r\nimport styles from './card-info-page-errors.module.scss';\r\n\r\nexport const CardInfoPageErrors = React.memo<{}>(() => {\r\n    const errors = useSelector(getCreditInfoFormErrors);\r\n\r\n    if (errors.length === 0) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div className={styles['errors']}>\r\n            {errors.map(error => (\r\n                <div key={error}>{error}</div>\r\n            ))}\r\n        </div>\r\n    );\r\n});","import { getFormValues } from 'redux-form';\r\nimport { createSelector } from 'reselect';\r\nimport { formatByMoneyPattern } from '../../utils';\r\nimport {\r\n    CARD_INFO_PAGE_FORM,\r\n    CARD_INFO_PAGE_STORE_KEY,\r\n} from './card-info-page-constants';\r\nimport type { TCreditCardInfoPageFormValues } from './card-info-page-types';\r\nimport { ECardInfoFields } from './card-info-page-enum';\r\n// import { ECreditCardForm } from '../../modules/credit-card';\r\n\r\nconst getCardInfoPageState = (state) => state[CARD_INFO_PAGE_STORE_KEY];\r\nconst getCardInfoPageFormValues = getFormValues(CARD_INFO_PAGE_FORM) as (state) => TCreditCardInfoPageFormValues;\r\n\r\nexport const getCommissionPercent = createSelector(\r\n    getCardInfoPageState,\r\n    (pageState): number => pageState.commissionPercent,\r\n);\r\n\r\nexport const getInputedMoney = createSelector(\r\n    getCardInfoPageFormValues,\r\n    (cardInfoPageFormValues: TCreditCardInfoPageFormValues): number => (\r\n        Number(\r\n            cardInfoPageFormValues?.[ECardInfoFields.Money]?.replace(/\\D/g, '')\r\n        ) || 0\r\n    )\r\n);\r\n\r\nexport const getComputedCommission = createSelector(\r\n    getInputedMoney,\r\n    getCommissionPercent,\r\n    (inputedMoney: number, commissionPercent: number): string => (\r\n        formatByMoneyPattern(\r\n            inputedMoney / 100 * commissionPercent,\r\n            true,\r\n        )\r\n    )\r\n);\r\n\r\n// export const getInitialFormValues = () => {\r\n//     // const from = {\r\n//     //     [ECreditCardForm.CardNumber]: '',\r\n//     //     [ECreditCardForm.CardExpires]: '',\r\n//     //     [ECreditCardForm.CardCsv]: '',\r\n//     // };\r\n//     // const to = {\r\n//     //     [ECreditCardForm.CardNumber]: '',\r\n//     // };\r\n\r\n//     // return {\r\n//     //     [ECardInfoFields.From]: from,\r\n//     //     [ECardInfoFields.To]: to,\r\n//     //     [ECardInfoFields.Money]: '',\r\n//     // }\r\n//     return {};\r\n// };","import get from 'lodash/get';\r\nimport { getFormMeta } from 'redux-form';\r\n\r\nexport const createCheckFieldIsTouched = (formName: string) => (fieldPath: string) => (_, getState): boolean => {\r\n    const state = getState();\r\n    const formMeta = getFormMeta(formName)(state);\r\n    const fieldMeta = get(formMeta, fieldPath);\r\n    const fieldIsTouched = fieldMeta?.touched;\r\n\r\n    return Boolean(fieldIsTouched);\r\n}","import * as React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport type { FormInstance } from 'redux-form';\r\nimport { Button } from '@material-ui/core';\r\nimport { ApplicationPage } from '../../components/application-page';\r\nimport { CardMoneyInput } from '../../components/card-money-input';\r\nimport { CreditCard } from '../../modules/credit-card';\r\nimport { SimpleModal } from '../../modules/simple-modal';\r\nimport { RUR_SIGN } from '../../constants';\r\nimport { CardInfoPageErrors } from './modules/card-info-page-errors';\r\nimport type { TCreditCardInfoPageFormValues } from './card-info-page-types';\r\nimport { getComputedCommission, getCommissionPercent } from './card-info-page-selectors';\r\nimport { ECardInfoFields } from './card-info-page-enum';\r\nimport styles from './card-info-page.module.scss';\r\n\r\nexport const CardInfoPage = React.memo((props: FormInstance<TCreditCardInfoPageFormValues, {}>) => {\r\n    const commissionPercent = useSelector(getCommissionPercent);\r\n    const commission = useSelector(getComputedCommission);\r\n    \r\n    return (\r\n        <ApplicationPage className={styles['container']}>\r\n            <h1 className={styles['header']}>Переводы с карты на карту</h1>\r\n            <h2 className={styles['sub-header']}>Доступные переводы на карту с коммисией всего {commissionPercent}%</h2>\r\n            <div className={styles['cards']}>\r\n                <div className={styles['card']}>\r\n                    <h3 className={styles['card-title']}>Ваша карта</h3>\r\n                    <CreditCard className={styles['arrow-right']} sectionName={ECardInfoFields.From} />\r\n                </div>\r\n                <div className={styles['card']}>\r\n                    <h3 className={styles['card-title']}>Карта получателя</h3>\r\n                    <CreditCard sectionName={ECardInfoFields.To} showOnlyNumber />\r\n                </div>\r\n            </div>\r\n\r\n            <CardInfoPageErrors />\r\n\r\n            <div className={styles['sum']}>\r\n                <h3 className={styles['sum-title']}>Сумма перевода</h3>\r\n                <CardMoneyInput name={ECardInfoFields.Money} required />\r\n            </div>\r\n            <div className={styles['commission']}>\r\n                Комиссия - {commission} {RUR_SIGN}\r\n            </div>\r\n\r\n            <div className={styles['button-section']}>\r\n                <Button\r\n                    className={styles['send-button']}\r\n                    onClick={props.submit}\r\n                    variant=\"contained\"\r\n                >\r\n                    Отправить\r\n                </Button>\r\n            </div>\r\n            <SimpleModal />\r\n        </ApplicationPage>\r\n    );\r\n});","export const TRANSFER_URL = `${process.env.REACT_APP_API_URL}/transfer`;\r\nexport type TTransferPostData = {\r\n    cardFromNumber: string;\r\n    cardFromValidTill: string;\r\n    cardFromCVV: string;\r\n    cardToNumber: string;\r\n    amount: {\r\n        value: number;\r\n        currency: string;\r\n    };\r\n};\r\n\r\nexport const CONFIRM_OPERATION_URL = `${process.env.REACT_APP_API_URL}/confirmOperation`;\r\nexport type TConfirmOperationPostData = {\r\n    code: string;\r\n    operationId: string;\r\n};\r\n","import { ECreditCardForm } from '../../modules/credit-card';\r\nimport {\r\n    CARD_EXPIRES_DELIMETER,\r\n    CARD_EXPIRES_MONTH_LENGTH,\r\n    CARD_EXPIRES_YEARS_LENGTH,\r\n} from '../../components/card-expires-input';\r\nimport { CARD_CVC_MAX_LENGTH } from '../../components/card-cvc-input';\r\nimport { CARD_NUMBER_LENGTH, FIRST_MONTH_NUMBER, LAST_MONTH_NUMBER, RUR_CODE, RUR_SIGN } from '../../constants';\r\nimport type {\r\n    TConfirmOperationPostData,\r\n    TTransferPostData,\r\n} from '../../services';\r\nimport type { TCreditCardInfoPageFormValues } from './card-info-page-types';\r\nimport { ECardInfoFields } from './card-info-page-enum';\r\n\r\ntype TBaseFieldValidator = (value: string | undefined, person?: string) => string | void;\r\n\r\nconst validateCardNumber: TBaseFieldValidator = (cardNumber, person) => {\r\n    if (!cardNumber || !cardNumber.trim()) {\r\n        return `Номер карты ${person} обязателен`;\r\n    }\r\n    if (cardNumber.replace(/\\D/g, '').length !== CARD_NUMBER_LENGTH) {\r\n        return `Номер карты ${person} должен быть ${CARD_NUMBER_LENGTH} символов`;\r\n    }\r\n};\r\n\r\nconst validateCardExpires: TBaseFieldValidator = (cardExpires, person) => {\r\n    if (!cardExpires || !cardExpires.trim()) {\r\n        return `Срок действия карты ${person} обязателен`;\r\n    }\r\n\r\n    const [month, year] = cardExpires.split(CARD_EXPIRES_DELIMETER);\r\n    if (!month || month.length < CARD_EXPIRES_MONTH_LENGTH) {\r\n        return `Месяц действия карты обязателен и должен состоять из ${CARD_EXPIRES_MONTH_LENGTH} цифр`;\r\n    }\r\n    if (!year || year.length < CARD_EXPIRES_YEARS_LENGTH) {\r\n        return `Месяц действия карты обязателен и должен состоять из ${CARD_EXPIRES_YEARS_LENGTH} цифр`;\r\n    }\r\n\r\n    const dateNow = new Date();\r\n    const currentMonth = dateNow.getMonth() + 1; // need month number, not month index\r\n    const currentYearLastTwoNumbers = dateNow.getFullYear().toString().slice(2);\r\n\r\n    if (Number(month) < FIRST_MONTH_NUMBER) {\r\n        return `Текущий месяц не может быть меньше ${FIRST_MONTH_NUMBER}`;\r\n    }\r\n    if (Number(month) > LAST_MONTH_NUMBER) {\r\n        return `Текущий месяц не может быть больше ${LAST_MONTH_NUMBER}`;\r\n    }\r\n\r\n    const monthIsExpires = Number(month) < Number(currentMonth);\r\n    const yearIsExpires = Number(year) < Number(currentYearLastTwoNumbers)\r\n    const yearIsEquals = Number(year) === Number(currentYearLastTwoNumbers)\r\n\r\n    if (yearIsExpires || (monthIsExpires && yearIsEquals)) {\r\n        return `Истекла дата действия карты ${person}`;\r\n    }\r\n};\r\n\r\nconst validateCardCvc: TBaseFieldValidator = (cardCvc, person) => {\r\n    if (!cardCvc || !cardCvc.trim()) {\r\n        return `CVC / CVC2 номер карты ${person} обязателен`;\r\n    }\r\n    if (cardCvc.replace(/\\D/g, '').length !== CARD_CVC_MAX_LENGTH) {\r\n        return `CVC / CVC2 код ${person} должен быть ${CARD_CVC_MAX_LENGTH} символов`;\r\n    }\r\n};\r\n\r\nconst validateMoney: TBaseFieldValidator = (money) => {\r\n    if (!money || !money.trim()) {\r\n        return `Сумма перевода обязательна`;\r\n    }\r\n    const cleanMoney = money.replace(new RegExp(`[\\s${RUR_SIGN}]`, 'g'), '');\r\n    const cleanMoneyCount = parseFloat(cleanMoney);\r\n    if (!cleanMoneyCount || cleanMoneyCount === 0) {\r\n        return `Необходимо указать сумму перевода`;\r\n    }\r\n};\r\n\r\nexport const validateCardInfoForm = (values: TCreditCardInfoPageFormValues) => {\r\n    const errors = {};\r\n    const fromErrors = {};\r\n    const toErrors = {};\r\n\r\n    const { from, to, money } = values;\r\n\r\n    const senderName = 'отправителя';\r\n    const cardNumberFromError = validateCardNumber(from?.[ECreditCardForm.CardNumber], senderName);\r\n    if (cardNumberFromError) {\r\n        Object.assign(fromErrors, { [ECreditCardForm.CardNumber]: cardNumberFromError });\r\n    }\r\n\r\n    const cardExpiresFromErrors = validateCardExpires(from?.[ECreditCardForm.CardExpires], senderName);\r\n    if (cardExpiresFromErrors) {\r\n        Object.assign(fromErrors, { [ECreditCardForm.CardExpires]: cardExpiresFromErrors });\r\n    }\r\n\r\n    const cvcCodeFromErrors = validateCardCvc(from?.[ECreditCardForm.CardCvc], senderName);\r\n    if (cvcCodeFromErrors) {\r\n        Object.assign(fromErrors, { [ECreditCardForm.CardCvc]: cvcCodeFromErrors });\r\n    }\r\n\r\n    const receiverName = 'получателя';\r\n    const cardNumberToError = validateCardNumber(to?.[ECreditCardForm.CardNumber], receiverName);\r\n    if (cardNumberToError) {\r\n        Object.assign(toErrors, { [ECreditCardForm.CardNumber]: cardNumberToError });\r\n    }\r\n\r\n    if (Object.keys(fromErrors).length > 0) {\r\n        Object.assign(errors, { [ECardInfoFields.From]: fromErrors });\r\n    }\r\n\r\n    if (Object.keys(toErrors).length > 0) {\r\n        Object.assign(errors, { [ECardInfoFields.To]: toErrors });\r\n    }\r\n\r\n    const moneyErrors = validateMoney(money);\r\n    if (moneyErrors) {\r\n        Object.assign(errors, { [ECardInfoFields.Money]: moneyErrors });\r\n    }\r\n\r\n    return errors;\r\n};\r\n\r\nexport const prepareFormValuesToSendTransfer = (values: TCreditCardInfoPageFormValues): TTransferPostData => ({\r\n    cardFromNumber: values[ECardInfoFields.From][ECreditCardForm.CardNumber].replace(/\\D/g, ''),\r\n    cardToNumber: values[ECardInfoFields.To][ECreditCardForm.CardNumber].replace(/\\D/g, ''),\r\n    cardFromCVV: values[ECardInfoFields.From][ECreditCardForm.CardCvc] as string,\r\n    cardFromValidTill: values[ECardInfoFields.From][ECreditCardForm.CardExpires] as string,\r\n    amount: {\r\n        currency: RUR_CODE,\r\n        value: Number(values[ECardInfoFields.Money].replace(/\\D/g, '')) * 100,\r\n    },\r\n});\r\n\r\nexport const prepareOperationIdToSendConfirmation = (operationId: string): TConfirmOperationPostData => ({\r\n    code: '0000',\r\n    operationId,\r\n});","import axios from 'axios';\r\nimport { reset, SubmissionError } from 'redux-form';\r\nimport {\r\n    DEFAULT_ERROR_MESSAGE,\r\n    DEFAULT_ERROR_TITLE,\r\n    DEFAULT_OK_MESSAGE,\r\n    DEFAULT_OK_TITLE,\r\n    openSimpleModalAction,\r\n} from '../../modules/simple-modal';\r\nimport {\r\n    CONFIRM_OPERATION_URL,\r\n    TRANSFER_URL\r\n} from '../../services';\r\nimport { CARD_INFO_PAGE_FORM } from './card-info-page-constants';\r\nimport {\r\n    prepareFormValuesToSendTransfer,\r\n    prepareOperationIdToSendConfirmation,\r\n    validateCardInfoForm,\r\n} from './card-info-page-utils';\r\nimport type { TCreditCardInfoPageFormValues } from './card-info-page-types';\r\n\r\nexport const onSubmitHandler = async (values: TCreditCardInfoPageFormValues, dispatch) => {\r\n    const errors = validateCardInfoForm(values);\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n        throw new SubmissionError(errors)\r\n    }\r\n\r\n    try {\r\n        const dataForTransfer = prepareFormValuesToSendTransfer(values);\r\n        const transferResponse = await axios.post(TRANSFER_URL, { data: dataForTransfer });\r\n        const dataForConfirmation = prepareOperationIdToSendConfirmation(transferResponse.data.ref);\r\n        await axios.post(CONFIRM_OPERATION_URL, { data: dataForConfirmation });\r\n        \r\n        dispatch(\r\n            openSimpleModalAction(DEFAULT_OK_TITLE, DEFAULT_OK_MESSAGE)\r\n        );\r\n        dispatch(reset(CARD_INFO_PAGE_FORM))\r\n    } catch (error) {\r\n        dispatch(\r\n            openSimpleModalAction(DEFAULT_ERROR_TITLE, error?.response?.data?.message || DEFAULT_ERROR_MESSAGE, true)\r\n        );\r\n    }\r\n};","import { FunctionComponent } from 'react';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport {  reduxForm } from 'redux-form';\r\nimport { createCheckFieldIsTouched } from '../../actions';\r\nimport { CardInfoPage } from './card-info-page';\r\nimport { CARD_INFO_PAGE_FORM } from './card-info-page-constants';\r\nimport { onSubmitHandler } from './card-info-page-actions';\r\nimport type { TCreditCardInfoPageFormValues } from './card-info-page-types';\r\n\r\nconst mapDispatchToProps = {\r\n    checkFieldIsTouched: createCheckFieldIsTouched(CARD_INFO_PAGE_FORM),\r\n};\r\n\r\nexport const CardInfoPageForm = compose(\r\n    connect(null, mapDispatchToProps),\r\n    reduxForm<TCreditCardInfoPageFormValues>({\r\n        form: CARD_INFO_PAGE_FORM,\r\n        onSubmit: onSubmitHandler,\r\n    }),\r\n)(CardInfoPage) as FunctionComponent;","import { COMMISSION_PERCENT } from './card-info-page-constants';\r\n\r\nconst INIT_STATE = {\r\n    commissionPercent: COMMISSION_PERCENT,\r\n};\r\n\r\nexport const cardInfoPageReducer = (state = INIT_STATE, { payload, type }) => {\r\n    switch(type) {\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport { CARD_INFO_PAGE_STORE_KEY, cardInfoPageReducer } from './pages/card-info-page';\r\nimport { SIMPLE_MODAL_STORE_NAME, simpleModalReducer } from './modules/simple-modal';\r\n\r\nexport const reducers = combineReducers({\r\n    'form': formReducer,\r\n    [CARD_INFO_PAGE_STORE_KEY]: cardInfoPageReducer,\r\n    [SIMPLE_MODAL_STORE_NAME]: simpleModalReducer,\r\n});","import { applyMiddleware, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { reducers } from './reducers';\r\n\r\nexport const store = createStore(\r\n    reducers,\r\n    compose(\r\n        applyMiddleware(thunk),\r\n        // @ts-ignore\r\n        (window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()) || ((a) => (a)),\r\n    ),\r\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { CardInfoPage } from './pages/card-info-page'\nimport { store } from './store';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <CardInfoPage />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"credit-card_card__2K5Yh\",\"card-logo\":\"credit-card_card-logo__2ALrF\",\"card-bottom\":\"credit-card_card-bottom__Zbb20\",\"assets\":\"credit-card_assets__aHbeB\",\"card-number\":\"credit-card_card-number__1ECFS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"with-base-field-adapter_label__1Mv48\",\"error\":\"with-base-field-adapter_error__3Uf60\",\"component\":\"with-base-field-adapter_component__2l7SO\",\"field\":\"with-base-field-adapter_field__1w_xD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"simple-modal_body__1qKou\",\"button\":\"simple-modal_button__26hU-\",\"error\":\"simple-modal_error__1D7dL\",\"title\":\"simple-modal_title__38Uvu\",\"message\":\"simple-modal_message__3V_4N\"};"],"sourceRoot":""}